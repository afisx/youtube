{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/controllers/appController.js","webpack:///./src/models/appModel.js","webpack:///./src/viewModels/appViewModel.js","webpack:///./src/views/helpers/domHelper.js","webpack:///./src/views/appView.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","App","constructor","model","viewModel","view","this","setActions","wrapper","list","pagination","current","start","previos","next","ttPrevios","find","ttNext","pageWidth","getRoot","clientWidth","currentScroll","pageNumber","html","on","downEvent","addClass","listWidth","scrollWidth","x","clientX","delta","window","console","log","moveEvent","css","left","upEvent","doDefault","removeClass","off","setPagePosition","loadNextItems","dragEvent","pCurrent","pStart","pPrev","pNext","addEventListener","getNextItems","then","result","render","prepareData","catch","err","[object Object]","tPrev","tNext","direction","currentPosition","e","preventDefault","stopPropagation","search","form","event","getItems","addPagination","AppModel","url","nextToken","prevToken","options","type","part","maxResults","q","getRequestString","requestType","str","keys","forEach","query","opts","Promise","resolve","reject","fetch","response","json","items","nextPageToken","getItemsStatistics","getItemsIds","statistic","videos","statistics","ids","id","map","item","videoId","nextRequest","AppViewModel","data","getData","snippet","publishedAt","channelId","channelTitle","title","description","thumbnails","viewCount","likeCount","dislikeCount","videoTitle","owner","ownerId","videoDescription","uploaded","split","slice","join","views","likes","dislikes","thumbnailUrl","default","thumbnailSize","width","height","$","selector","context","document","els","elements","listeners","length","createElement","opt","setAttribute","toString","push","querySelectorAll","index","element","innerHTML","newClass","classList","add","rClass","remove","innerSelector","append","nodes","node","appendChild","getComputedStyle","getPropertyValue","Error","callback","handler","removeEventListener","appView","container","rootElement","class","submit","href","createDefaultTemplate","pagContainer","cardContainer","cardThumb","src","cardUrl","cardDescription","cardInfo","cardFooter","createCards","View","Model","ViewModel"],"mappings":"aACA,IAAAA,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,GAAA,EACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,6EClFe,MAAMC,EACnBC,YAAYC,EAAOC,EAAWC,GAC5BC,KAAKH,MAAQA,EACbG,KAAKF,UAAYA,EACjBE,KAAKD,KAAOA,EAGdE,aACE,MAAMC,QAAEA,EAAFC,KAAWA,EAAXC,WAAiBA,GAAeJ,KAAKD,MACrCM,QACJA,EADIC,MACKA,EADLC,QACYA,EADZC,KACqBA,GACvBJ,EACEK,EAAYF,EAAQG,KAAK,oBACzBC,EAASH,EAAKE,KAAK,iBACzB,IAAIE,EAAYZ,KAAKD,KAAKc,UAAUC,YAChCC,EAAgB,EAChBC,EAAa,EACjBX,EAAQY,KAAKD,GACbL,EAAOM,KAAKD,EAAa,GACzBd,EAAQgB,GAAG,cAAgBC,IACzBhB,EAAKiB,SAAS,UACd,MAAMC,EAAYlB,EAAK3B,IAAI,GAAG8C,YACxBC,EAAIJ,EAAUK,QACdC,EAAQF,EAAIR,EAClBW,OAAOC,QAAQC,IAAIb,GACnBb,EAAQgB,GAAG,cAAgBW,IACzB1B,EAAK2B,IAAI,CAAEC,QAASF,EAAUL,QAAUC,UAE1CvB,EAAQgB,GAAG,YAAcc,IACvBrC,EAAIsC,UAAUD,GACd7B,EAAK+B,YAAY,UACjBhC,EAAQiC,IAAI,eAAeA,IAAI,aAC3BH,EAAQR,QAAUD,GAAM,IAGxBS,EAAQR,QAAUD,EAAI,GACxBR,EAAiBA,EAAgBH,EAAY,EAAK,EAAIG,EAAgBH,EACtET,EAAK2B,IAAI,CAAEC,QAAShB,QACpBC,EAAarB,EAAIyC,gBACf3B,EAAWE,EAAQN,EAASE,EAASS,GAAY,KAGnDb,EAAK2B,IAAI,CAAEC,QAAShB,GAAiBH,QACrCI,EAAarB,EAAIyC,gBACf3B,EAAWE,EAAQN,EAASE,EAASS,GAAY,IAGjDK,GAA2C,EAAZT,EAAjBG,GAChBf,KAAKqC,qBAGRnB,GAAG,YAAcoB,IAClB3C,EAAIsC,UAAUK,KAEhBjC,EAAQa,GAAG,cAAgBqB,IACzB5C,EAAIsC,UAAUM,KAEhBjC,EAAMY,GAAG,cAAgBsB,IACvB7C,EAAIsC,UAAUO,GACdrC,EAAK2B,IAAI,CAAEC,QAAShB,EAAgB,QACpCC,EAAarB,EAAIyC,gBACf3B,EAAWE,EAAQN,EAASE,EAAS,GAAG,GAE1CJ,EAAK2B,IAAI,CAAEC,KAAM,IACjB1B,EAAQY,KAAKD,EAAa,KAE5BT,EAAQW,GAAG,cAAgBuB,IACzB9C,EAAIsC,UAAUQ,GACdtC,EAAK2B,IAAI,CAAEC,QAAShB,GAAiBH,QACrCI,EAAarB,EAAIyC,gBACf3B,EAAWE,EAAQN,EAASE,EAASS,GAAY,KAGrDR,EAAKU,GAAG,cAAgBwB,IACtB/C,EAAIsC,UAAUS,GACdvC,EAAK2B,IAAI,CAAEC,QAAShB,GAAiBH,QACrC,MAAMS,EAAYlB,EAAK3B,IAAI,GAAG8C,YAC9BN,EAAarB,EAAIyC,gBACf3B,EAAWE,EAAQN,EAASE,EAASS,GAAY,GAE/CK,GAA2C,EAAZT,EAAjBG,GAChBf,KAAKqC,kBAGTX,OAAOiB,iBAAiB,SAAU,KAChC/B,EAAYZ,KAAKD,KAAKc,UAAUC,cAIpCuB,gBACErC,KAAKH,MAAM+C,eAAeC,KAAMC,IAC9BpB,OAAOC,QAAQC,IAAIkB,GACnB9C,KAAKD,KAAKgD,OAAO/C,KAAKF,UAAUkD,YAAYF,MAC3CG,MAAOC,IACRxB,OAAOC,QAAQC,IAAIsB,KAIvBC,uBAAuBC,EAAOC,EAAOhD,EAASE,EAASS,EAAYsC,GACjE,IAAIC,EAAkBvC,EActB,OAbIsC,GACFC,EAAuC,IAApBA,EAAyBA,EAAkBA,EAAkB,EAChFlD,EAAQY,KAAKsC,IAEblD,EAAQY,KAAKsC,GAAmB,GAElCH,EAAMnC,KAAKsC,EAAkB,GAC7BF,EAAMpC,KAAKsC,EAAkB,GACzBA,EAAkB,EACpBhD,EAAQ2B,YAAY,cAEpB3B,EAAQa,SAAS,cAEZmC,EAGTJ,iBAAiBK,GACfA,EAAEC,iBACFD,EAAEE,kBAGJC,SACE3D,KAAKD,KAAK6D,KAAK1C,GAAG,SAAW2C,IAC3BlE,EAAIsC,UAAU4B,GACd7D,KAAKH,MAAMiE,SAAS9D,KAAKD,KAAK4D,OAAO/E,SAClCiE,KAAMC,IACL9C,KAAKD,KAAKgD,OAAO/C,KAAKF,UAAUkD,YAAYF,IAC5C9C,KAAKD,KAAKgE,gBACV/D,KAAKC,eACJgD,MAAOC,IACRxB,OAAOC,QAAQC,IAAIsB,OAGzBlD,KAAKD,KAAK6D,KAAK1C,GAAG,YAAcsC,IAC9BA,EAAEE,oBAINpD,QACEN,KAAKD,KAAKgD,SACV/C,KAAK2D,UC5IM,MAAMK,EACnBpE,YAAYV,GACVc,KAAKiE,IAAM,yCACXjE,KAAKd,IAAMA,EACXc,KAAKI,WAAa,CAChB8D,UAAW,GACXC,UAAW,IAEbnE,KAAKoE,QAAU,CACbC,KAAM,QACNC,KAAM,UACNC,WAAY,KACZC,EAAG,IAIPC,iBAAiBC,EAAaN,GAC5B,IAAIO,KAAS3E,KAAKiE,IAAMS,SAAmB1E,KAAKd,MAIhD,OAHAb,OAAOuG,KAAKR,GAASS,QAAS3F,IAC5ByF,OAAWzF,KAAOkF,EAAQlF,OAErByF,EAGTb,SAASgB,GACP,MAAMC,EAAO,CACXV,KAAM,QACNC,KAAM,UACNC,WAAY,KACZC,EAAGM,GAEL,OAAO,IAAIE,QAAQ,CAACC,EAASC,KAC3BC,MAAMnF,KAAKyE,iBAAiB,SAAUM,IACnClC,KAAKuC,GAAYA,EAASC,QAC1BxC,KAAMC,IACL,MAAMwC,MAAEA,GAAUxC,EAClBpB,OAAOC,QAAQC,IAAIkB,GACnB9C,KAAKI,WAAW8D,UAAYpB,EAAOyC,cACnCvF,KAAKwF,mBAAmBxB,EAASyB,YAAYH,IAC1CzC,KAAM6C,IACL1F,KAAKoE,QAAUW,EACfE,EAAQ,CACNU,OAAQL,EACRM,WAAYF,EAAUJ,UAEvBrC,MAAMC,GAAOgC,EAAOhC,MAE1BD,MAAMC,GAAOgC,EAAOhC,MAI3BsC,mBAAmBK,GACjB,MAAMd,EAAO,CACXe,GAAID,EACJvB,KAAM,uBAER,OAAO,IAAIU,QAAQ,CAACC,EAASC,KAC3BC,MAAMnF,KAAKyE,iBAAiB,SAAUM,IACnClC,KAAKuC,GAAYA,EAASC,QAC1BxC,KAAKC,GAAUmC,EAAQnC,IACvBG,MAAMC,GAAOgC,EAAOhC,MAI3BC,mBAAmBmC,GAEjB,OADA5D,OAAOC,QAAQC,IAAI0D,GACZA,EAAMS,IAAIC,GAAQA,EAAKF,GAAGG,SAGnCtC,OAAOmB,GAEL,OADA9E,KAAKoE,QAAQI,EAAIM,EACV9E,KAAK8D,WAGdlB,eACE,MAAMsD,KAAiBlG,KAAKyE,iBAAiB,SAAUzE,KAAKoE,sBAAsBpE,KAAKI,WAAW8D,YAElG,OADAxC,OAAOC,QAAQC,IAAIsE,GACZ,IAAIlB,QAAQ,CAACC,EAASC,KAC3BC,MAAMe,GACHrD,KAAKuC,GAAYA,EAASC,QAC1BxC,KAAMC,IACL,MAAMwC,MAAEA,GAAUxC,EAClB9C,KAAKI,WAAW8D,UAAYpB,EAAOyC,cACnCvF,KAAKwF,mBAAmBxB,EAASyB,YAAYH,IAC1CzC,KAAM6C,IACLT,EAAQ,CACNU,OAAQL,EACRM,WAAYF,EAAUJ,UAEvBrC,MAAMC,GAAOgC,EAAOhC,MAE1BD,MAAMC,GAAOgC,EAAOhC,OC3Fd,MAAMiD,EACnBvG,YAAYwG,GACVpG,KAAKoG,KAAOA,EAGdC,UACE,OAAOrG,KAAKoG,KAGdpD,YAAYoD,GAGV,OAFApG,KAAKoG,KAAOA,EACZ1E,OAAOC,QAAQC,IAAIwE,GACZA,EAAKT,OAAOI,IAAI,CAACC,EAAMrI,KAC5B+D,OAAOC,QAAQC,IAAIoE,GACnBtE,OAAOC,QAAQC,IAAIjE,GACnB,MAAMmI,GAAEA,EAAFQ,QAAMA,GAAYN,GAClBO,YACJA,EADIC,UACSA,EADTC,aACoBA,EADpBC,MACkCA,EADlCC,YACyCA,EADzCC,WACsDA,GACxDN,GACEO,UAAEA,EAAFC,UAAaA,EAAbC,aAAwBA,GAAiBX,EAAKR,WAAWjI,GAAGiI,WAClE,MAAO,CACLK,QAASH,EAAGG,QACZe,WAAYN,EACZO,MAAOR,EACPS,QAASV,EACTW,iBAAkBR,EAClBS,SAAUb,EAAYc,MAAM,IAAIC,MAAM,EAAG,IAAIC,KAAK,IAClDC,MAAOX,EACPY,MAAOX,EACPY,SAAUX,EACVY,aAAcf,EAAWgB,QAAQ3D,IACjC4D,cAAe,CACbC,MAAOlB,EAAWgB,QAAQE,MAC1BC,OAAQnB,EAAWgB,QAAQG,YCjCtB,SAASC,EAAEC,EAAU7D,EAAU,GAAI8D,EAAUC,UAC1D,IAAIC,EACAC,EAAW,GACf,MAAMC,EAAY,GAgBlB,MAfwB,iBAAbL,EACTI,EAAW,GAAGf,MAAMxJ,KAAKmK,GACA,MAAhBA,EAAS,IAAgD,MAAlCA,EAASA,EAASM,OAAS,IAC3DH,EAAMF,EAAQM,cAAcP,EAASZ,MAAM,IAAIC,MAAM,EAAGW,EAASM,OAAS,GAAGhB,KAAK,KAC9EnD,GAA8B,iBAAZA,GAAwB/F,OAAOuG,KAAKR,GAASmE,OAAS,GAC1ElK,OAAOuG,KAAKR,GAASS,QAAS4D,IAC5BL,EAAIM,aAAaD,EAAIE,cAAevE,EAAQqE,QAGhDJ,EAASO,KAAKR,KAEdA,EAAMF,EAAQW,iBAAiBZ,GAC/BI,EAAW,GAAGf,MAAMxJ,KAAKsK,IAGpB,CACLC,WAEA7J,IAAIsK,GACF,OAAQA,GAAS,EAAK9I,KAAKqI,SAASS,GAAS9I,KAAKqI,UAGpDpH,KAAKA,GAKH,OAJAjB,KAAKqI,SAASxD,QAASkE,IACTA,EACRC,UAAY/H,IAEXjB,MAGToB,SAAS6H,GAIP,OAHAjJ,KAAKqI,SAASxD,QAASkE,IACrBA,EAAQG,UAAUC,IAAIF,KAEjBjJ,MAGTkC,YAAYkH,GAIV,OAHApJ,KAAKqI,SAASxD,QAASkE,IACrBA,EAAQG,UAAUG,OAAOD,KAEpBpJ,MAGTU,KAAK4I,GACItB,EAAEsB,GAGXC,OAAOC,GAML,OALAxJ,KAAKqI,SAASxD,QAASkE,IACrBS,EAAMnB,SAASxD,QAAS4E,IACtBV,EAAQW,YAAYD,OAGjBzJ,MAGTpB,QACE,OAAOoB,KAAKqI,SAAS,GAAGzJ,OAG1BkD,IAAIA,EAAKlD,GACP,GAAmB,iBAARkD,EAAkB,CAC3B,IAAKlD,EACH,OAAO8C,OAAOiI,iBAAiB3J,KAAKqI,SAAS,IAAIuB,iBAAiB9H,GAEpE9B,KAAKqI,SAASxD,QAASkE,IACrBA,EAAQL,aAAa,WAAY5G,KAAOlD,WAErC,IAAmB,iBAARkD,GAAqBlD,EAOrC,MAAM,IAAIiL,MAAM,sBANhB7J,KAAKqI,SAASxD,QAASkE,IACrB1K,OAAOuG,KAAK9C,GAAK+C,QAAS3F,IACxB6J,EAAQL,aAAa,WAAYxJ,KAAO4C,EAAI5C,UAMlD,OAAOc,MAGTkB,GAAGsC,EAAGsG,GAKJ,OAJA9J,KAAKqI,SAASxD,QAASkE,IACrBT,EAAU9E,GAAKsG,EACff,EAAQpG,iBAAiBa,EAAGsG,KAEvB9J,MAGTmC,IAAIqB,GAMF,OALAxD,KAAKqI,SAASxD,QAASkE,IACrB,MAAMgB,EAAUzB,EAAU9E,GAC1BuF,EAAQiB,oBAAoBxG,EAAGuG,UACxBzB,EAAU9E,KAEZxD,iBC/FE,MAAMiK,EACnBrK,YAAYsK,GACV,IAAIC,EACqB,iBAAdD,EACTC,EAAcnC,EAAEkC,IAEfC,GAAeD,EAElBlK,KAAKE,QAAU8H,EAAE,QAAS,CAAEoC,MAAO,YACnCpK,KAAK4D,KAAOoE,EAAE,SAAU,CAAEoC,MAAO,cAAelM,KAAM,WACtD8B,KAAK2D,OAASqE,EAAE,UAAW,CAAEoC,MAAO,cAAe/F,KAAM,OAAQnG,KAAM,iBACvE8B,KAAKG,KAAO6H,EAAE,OAAQ,CAAEoC,MAAO,0BAC/BpK,KAAKqK,OAASrC,EAAE,WAAY,CAAEoC,MAAO,6BAA8B/F,KAAM,SAAUzF,MAAO,KAC1FoB,KAAKI,WAAa,CAChBE,MAAO0H,EAAE,OAAQ,CAAEoC,MAAO,qCAAsCb,OAAOvB,EAAE,MAAO,CAAEoC,MAAO,6BAA8Bb,OAAOvB,EAAE,MAAO,CAAEoC,MAAO,6BAA8BE,KAAM,OAAQf,OAAOvB,EAAE,SAAU,CAAEoC,MAAO,qCAAsCnJ,KAAK,OACnQV,QAASyH,EAAE,OAAQ,CAAEoC,MAAO,kDAAmDb,OAAOvB,EAAE,MAAO,CAAEoC,MAAO,sBAAuBb,OAAOvB,EAAE,MAAO,CAAEoC,MAAO,+BAAgCE,KAAM,aAAcf,OAAOvB,EAAE,SAAU,CAAEoC,MAAO,yCACxO/J,QAAS2H,EAAE,OAAQ,CAAEoC,MAAO,uCAC5B5J,KAAMwH,EAAE,OAAQ,CAAEoC,MAAO,oCAAqCb,OAAOvB,EAAE,MAAO,CAAEoC,MAAO,uBAAwBb,OAAOvB,EAAE,MAAO,CAAEoC,MAAO,4BAA6BE,KAAM,UAAWf,OAAOvB,EAAE,SAAU,CAAEoC,MAAO,uCAEpNpK,KAAKkK,UAAYC,EAGnBI,wBACEvK,KAAK4D,KAAK2F,OAAOvJ,KAAK2D,QACtB3D,KAAK4D,KAAK2F,OAAOvJ,KAAKqK,QACtBrK,KAAKE,QAAQqJ,OAAOvJ,KAAK4D,MACzB5D,KAAKE,QAAQqJ,OAAOvJ,KAAKG,MACzBH,KAAKkK,UAAUX,OAAOvJ,KAAKE,SAG7B6D,gBACE,MAAMyG,EAAexC,EAAE,OAAQ,CAAEoC,MAAO,yBAA0Bb,OAChEvJ,KAAKI,WAAWE,OAChBiJ,OACAvJ,KAAKI,WAAWG,SAChBgJ,OACAvJ,KAAKI,WAAWC,SAEfkJ,OACCvJ,KAAKI,WAAWI,MAEpBR,KAAKE,QAAQqJ,OAAOiB,GAGtB3J,UACE,OAAOb,KAAKkK,UAAU1L,IAAI,GAG5B2E,mBAAmB6C,GACjB,MAAMyE,EAAgBzC,EAAE,OAAQ,CAAEoC,MAAO,wBACnCM,EAAY1C,EAAE,QAAS,CAAEoC,MAAO,kBAAmBO,IAAK3E,EAAK2B,eAC7DiD,EAAU5C,EAAE,MAAO,CAAEoC,MAAO,iBAAkBE,wCAAyCtE,EAAKC,YAAahF,KAAK+E,EAAKgB,YACnH6D,EAAkB7C,EAAE,MAAO,CAAEoC,MAAO,0BAA2BnJ,KAAK+E,EAAKmB,kBACzE2D,EAAW9C,EAAE,MAAO,CAAEoC,MAAO,mBAChCb,OAAOvB,EAAE,QAAS,CAAEoC,MAAO,wBACzBb,OAAOvB,EAAE,MAAO,CAAEoC,MAAO,6BACzBb,OAAOvB,EAAE,MAAO,CAAEoC,MAAO,qCACzBb,OAAOvB,EAAE,MAAO,CAAEoC,MAAO,2BAA4Bb,OAAOvB,EAAE,QAAS,CAAEoC,MAAO,yBAChFb,OAAOvB,EAAE,MAAO,CAAEoC,MAAO,mBAAoBE,wCAAyCtE,EAAKkB,YAAajG,KAAK+E,EAAKiB,QAClHsC,OAAOvB,EAAE,SAAU,CAAEoC,MAAO,0BAA2BnJ,KAAK+E,EAAKoB,WACjEmC,OAAOvB,EAAE,SAAU,CAAEoC,MAAO,qBAAsBnJ,KAAK+E,EAAKwB,SAC3DuD,EAAa/C,EAAE,MAAO,CAAEoC,MAAO,qBAClCb,OAAOvB,EAAE,QAAS,CAAEoC,MAAO,0BACzBb,OAAOvB,EAAE,MAAO,CAAEoC,MAAO,uCACzBb,OAAOvB,EAAE,SAAU,CAAEoC,MAAO,iBAAkBnJ,KAAK+E,EAAKyB,SAC1D8B,OAAOvB,EAAE,QAAS,CAAEoC,MAAO,2BACzBb,OAAOvB,EAAE,MAAO,CAAEoC,MAAO,4CACzBb,OAAOvB,EAAE,SAAU,CAAEoC,MAAO,oBAAqBnJ,KAAK+E,EAAK0B,YAOhE,OANA+C,EACGlB,OAAOmB,GACPnB,OAAOqB,GACPrB,OAAOuB,GACPvB,OAAOsB,GACPtB,OAAOwB,GACHN,EAGT1H,OAAOqD,GACDA,GAAQA,EAAKmC,OAAS,EACxBnC,EAAKvB,QAASmB,IACZhG,KAAKG,KAAKoJ,OAAOU,EAAQe,YAAYhF,MAGvChG,KAAKuK,yBClFX7I,OAAOiB,iBAAiB,OAAQ,KAC9B,MAAM5C,EAAO,IAAIkL,EAAK,QAChBpL,EAAQ,IAAIqL,EAAM,2CAClBpL,EAAY,IAAIqL,EAAUtL,GACpB,IAAIF,EAAIE,EAAOC,EAAWC,GAClCO","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","export default class App {\n  constructor(model, viewModel, view) {\n    this.model = model;\n    this.viewModel = viewModel;\n    this.view = view;\n  }\n\n  setActions() {\n    const { wrapper, list, pagination } = this.view;\n    const {\n      current, start, previos, next,\n    } = pagination;\n    const ttPrevios = previos.find('.tooltip-previos');\n    const ttNext = next.find('.tooltip-next');\n    let pageWidth = this.view.getRoot().clientWidth;\n    let currentScroll = 0;\n    let pageNumber = 1;\n    current.html(pageNumber);\n    ttNext.html(pageNumber + 1);\n    wrapper.on('pointerdown', (downEvent) => {\n      list.addClass('active');\n      const listWidth = list.get(0).scrollWidth;\n      const x = downEvent.clientX;\n      const delta = x - currentScroll;\n      window.console.log(currentScroll);\n      wrapper.on('pointermove', (moveEvent) => {\n        list.css({ left: `${moveEvent.clientX - delta}px` });\n      });\n      wrapper.on('pointerup', (upEvent) => {\n        App.doDefault(upEvent);\n        list.removeClass('active');\n        wrapper.off('pointermove').off('pointerup');\n        if (upEvent.clientX - x === 0) {\n          return;\n        }\n        if (upEvent.clientX - x > 0) {\n          currentScroll = (currentScroll + pageWidth > 0) ? 0 : currentScroll + pageWidth;\n          list.css({ left: `${currentScroll}px` });\n          pageNumber = App.setPagePosition(\n            ttPrevios, ttNext, current, previos, pageNumber, true,\n          );\n        } else {\n          list.css({ left: `${currentScroll -= pageWidth}px` });\n          pageNumber = App.setPagePosition(\n            ttPrevios, ttNext, current, previos, pageNumber, false,\n          );\n        }\n        if (listWidth <= -currentScroll + (pageWidth * 3)) {\n          this.loadNextItems();\n        }\n      });\n    }).on('dragstart', (dragEvent) => {\n      App.doDefault(dragEvent);\n    });\n    current.on('pointerdown', (pCurrent) => {\n      App.doDefault(pCurrent);\n    });\n    start.on('pointerdown', (pStart) => {\n      App.doDefault(pStart);\n      list.css({ left: `${currentScroll = 0}px` });\n      pageNumber = App.setPagePosition(\n        ttPrevios, ttNext, current, previos, 1, true,\n      );\n      list.css({ left: 0 });\n      current.html(pageNumber = 1);\n    });\n    previos.on('pointerdown', (pPrev) => {\n      App.doDefault(pPrev);\n      list.css({ left: `${currentScroll += pageWidth}px` });\n      pageNumber = App.setPagePosition(\n        ttPrevios, ttNext, current, previos, pageNumber, true,\n      );\n    });\n    next.on('pointerdown', (pNext) => {\n      App.doDefault(pNext);\n      list.css({ left: `${currentScroll -= pageWidth}px` });\n      const listWidth = list.get(0).scrollWidth;\n      pageNumber = App.setPagePosition(\n        ttPrevios, ttNext, current, previos, pageNumber, false,\n      );\n      if (listWidth <= -currentScroll + (pageWidth * 3)) {\n        this.loadNextItems();\n      }\n    });\n    window.addEventListener('resize', () => {\n      pageWidth = this.view.getRoot().clientWidth;\n    });\n  }\n\n  loadNextItems() {\n    this.model.getNextItems().then((result) => {\n      window.console.log(result);\n      this.view.render(this.viewModel.prepareData(result));\n    }).catch((err) => {\n      window.console.log(err);\n    });\n  }\n\n  static setPagePosition(tPrev, tNext, current, previos, pageNumber, direction) {\n    let currentPosition = pageNumber;\n    if (direction) {\n      currentPosition = (currentPosition === 1) ? currentPosition : currentPosition - 1;\n      current.html(currentPosition);\n    } else {\n      current.html(currentPosition += 1);\n    }\n    tPrev.html(currentPosition - 1);\n    tNext.html(currentPosition + 1);\n    if (currentPosition > 2) {\n      previos.removeClass('not-active');\n    } else {\n      previos.addClass('not-active');\n    }\n    return currentPosition;\n  }\n\n  static doDefault(e) {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  search() {\n    this.view.form.on('submit', (event) => {\n      App.doDefault(event);\n      this.model.getItems(this.view.search.value())\n        .then((result) => {\n          this.view.render(this.viewModel.prepareData(result));\n          this.view.addPagination();\n          this.setActions();\n        }).catch((err) => {\n          window.console.log(err);\n        });\n    });\n    this.view.form.on('mousedown', (e) => {\n      e.stopPropagation();\n    });\n  }\n\n  start() {\n    this.view.render();\n    this.search();\n  }\n}\n","export default class AppModel {\n  constructor(key) {\n    this.url = 'https://www.googleapis.com/youtube/v3/';\n    this.key = key;\n    this.pagination = {\n      nextToken: '',\n      prevToken: '',\n    };\n    this.options = {\n      type: 'video',\n      part: 'snippet',\n      maxResults: '15',\n      q: '',\n    };\n  }\n\n  getRequestString(requestType, options) {\n    let str = `${this.url + requestType}?key=${this.key}`;\n    Object.keys(options).forEach((key) => {\n      str += `&${key}=${options[key]}`;\n    });\n    return str;\n  }\n\n  getItems(query) {\n    const opts = {\n      type: 'video',\n      part: 'snippet',\n      maxResults: '15',\n      q: query,\n    };\n    return new Promise((resolve, reject) => {\n      fetch(this.getRequestString('search', opts))\n        .then(response => response.json())\n        .then((result) => {\n          const { items } = result;\n          window.console.log(result);\n          this.pagination.nextToken = result.nextPageToken;\n          this.getItemsStatistics(AppModel.getItemsIds(items))\n            .then((statistic) => {\n              this.options = opts;\n              resolve({\n                videos: items,\n                statistics: statistic.items,\n              });\n            }).catch(err => reject(err));\n        })\n        .catch(err => reject(err));\n    });\n  }\n\n  getItemsStatistics(ids) {\n    const opts = {\n      id: ids,\n      part: 'snippet, statistics',\n    };\n    return new Promise((resolve, reject) => {\n      fetch(this.getRequestString('videos', opts))\n        .then(response => response.json())\n        .then(result => resolve(result))\n        .catch(err => reject(err));\n    });\n  }\n\n  static getItemsIds(items) {\n    window.console.log(items);\n    return items.map(item => item.id.videoId);\n  }\n\n  search(query) {\n    this.options.q = query;\n    return this.getItems();\n  }\n\n  getNextItems() {\n    const nextRequest = `${this.getRequestString('search', this.options)}&pageToken=${this.pagination.nextToken}`;\n    window.console.log(nextRequest);\n    return new Promise((resolve, reject) => {\n      fetch(nextRequest)\n        .then(response => response.json())\n        .then((result) => {\n          const { items } = result;\n          this.pagination.nextToken = result.nextPageToken;\n          this.getItemsStatistics(AppModel.getItemsIds(items))\n            .then((statistic) => {\n              resolve({\n                videos: items,\n                statistics: statistic.items,\n              });\n            }).catch(err => reject(err));\n        })\n        .catch(err => reject(err));\n    });\n  }\n}\n","export default class AppViewModel {\n  constructor(data) {\n    this.data = data;\n  }\n\n  getData() {\n    return this.data;\n  }\n\n  prepareData(data) {\n    this.data = data;\n    window.console.log(data);\n    return data.videos.map((item, i) => {\n      window.console.log(item);\n      window.console.log(i);\n      const { id, snippet } = item;\n      const {\n        publishedAt, channelId, channelTitle, title, description, thumbnails,\n      } = snippet;\n      const { viewCount, likeCount, dislikeCount } = data.statistics[i].statistics;\n      return {\n        videoId: id.videoId,\n        videoTitle: title,\n        owner: channelTitle,\n        ownerId: channelId,\n        videoDescription: description,\n        uploaded: publishedAt.split('').slice(0, 10).join(''),\n        views: viewCount,\n        likes: likeCount,\n        dislikes: dislikeCount,\n        thumbnailUrl: thumbnails.default.url,\n        thumbnailSize: {\n          width: thumbnails.default.width,\n          height: thumbnails.default.height,\n        },\n      };\n    });\n  }\n}\n","export default function $(selector, options = {}, context = document) {\n  let els;\n  let elements = [];\n  const listeners = {};\n  if (typeof selector === 'object') {\n    elements = [].slice.call(selector);\n  } else if (selector[0] === '<' && selector[selector.length - 1] === '>') {\n    els = context.createElement(selector.split('').slice(1, selector.length - 1).join(''));\n    if (options && typeof options === 'object' && Object.keys(options).length > 0) {\n      Object.keys(options).forEach((opt) => {\n        els.setAttribute(opt.toString(), `${options[opt]}`);\n      });\n    }\n    elements.push(els);\n  } else {\n    els = context.querySelectorAll(selector);\n    elements = [].slice.call(els);\n  }\n\n  return {\n    elements,\n\n    get(index) {\n      return (index >= 0) ? this.elements[index] : this.elements;\n    },\n\n    html(html) {\n      this.elements.forEach((element) => {\n        const tmp = element;\n        tmp.innerHTML = html;\n      });\n      return this;\n    },\n\n    addClass(newClass) {\n      this.elements.forEach((element) => {\n        element.classList.add(newClass);\n      });\n      return this;\n    },\n\n    removeClass(rClass) {\n      this.elements.forEach((element) => {\n        element.classList.remove(rClass);\n      });\n      return this;\n    },\n\n    find(innerSelector) {\n      return $(innerSelector);\n    },\n\n    append(nodes) {\n      this.elements.forEach((element) => {\n        nodes.elements.forEach((node) => {\n          element.appendChild(node);\n        });\n      });\n      return this;\n    },\n\n    value() {\n      return this.elements[0].value;\n    },\n\n    css(css, value) {\n      if (typeof css === 'string') {\n        if (!value) {\n          return window.getComputedStyle(this.elements[0]).getPropertyValue(css);\n        }\n        this.elements.forEach((element) => {\n          element.setAttribute('style', `${css}:${value}`);\n        });\n      } else if (typeof css === 'object' && !value) {\n        this.elements.forEach((element) => {\n          Object.keys(css).forEach((key) => {\n            element.setAttribute('style', `${key}:${css[key]}`);\n          });\n        });\n      } else {\n        throw new Error('invalid parameters');\n      }\n      return this;\n    },\n\n    on(e, callback) {\n      this.elements.forEach((element) => {\n        listeners[e] = callback;\n        element.addEventListener(e, callback);\n      });\n      return this;\n    },\n\n    off(e) {\n      this.elements.forEach((element) => {\n        const handler = listeners[e];\n        element.removeEventListener(e, handler);\n        delete listeners[e];\n      });\n      return this;\n    },\n\n  };\n}\n","import $ from './helpers/domHelper';\nimport './font-awesome/css/font-awesome.min.css';\nimport './css/styles.css';\n\nexport default class appView {\n  constructor(container) {\n    let rootElement;\n    if (typeof container === 'string') {\n      rootElement = $(container);\n    } else {\n      [rootElement] = container;\n    }\n    this.wrapper = $('<div>', { class: 'wrapper' });\n    this.form = $('<form>', { class: 'search-form', name: 'search' });\n    this.search = $('<input>', { class: 'search-text', type: 'text', name: 'search-input' });\n    this.list = $('<ul>', { class: 'search-list-container' });\n    this.submit = $('<button>', { class: 'fa fa-search submit-button', type: 'submit', value: '' });\n    this.pagination = {\n      start: $('<li>', { class: 'pagination-item pagination-start' }).append($('<i>', { class: 'fa fa-angle-double-left' })).append($('<a>', { class: 'pagination-link link-start', href: '#1' }).append($('<span>', { class: 'pagination-tooltip tooltip-start' }).html('1'))),\n      previos: $('<li>', { class: 'pagination-item pagination-previos not-active' }).append($('<i>', { class: 'fa fa-angle-left' })).append($('<a>', { class: 'pagination-link link-previos', href: '#previos' }).append($('<span>', { class: 'pagination-tooltip tooltip-previos' }))),\n      current: $('<li>', { class: 'pagination-item pagination-current' }),\n      next: $('<li>', { class: 'pagination-item pagination-next' }).append($('<i>', { class: 'fa fa-angle-right' })).append($('<a>', { class: 'pagination-link link-next', href: '#next' }).append($('<span>', { class: 'pagination-tooltip tooltip-next' }))),\n    };\n    this.container = rootElement;\n  }\n\n  createDefaultTemplate() {\n    this.form.append(this.search);\n    this.form.append(this.submit);\n    this.wrapper.append(this.form);\n    this.wrapper.append(this.list);\n    this.container.append(this.wrapper);\n  }\n\n  addPagination() {\n    const pagContainer = $('<ul>', { class: 'pagination-container' }).append(\n      this.pagination.start,\n    ).append(\n      this.pagination.previos,\n    ).append(\n      this.pagination.current,\n    )\n      .append(\n        this.pagination.next,\n      );\n    this.wrapper.append(pagContainer);\n  }\n\n  getRoot() {\n    return this.container.get(0);\n  }\n\n  static createCards(item) {\n    const cardContainer = $('<li>', { class: 'card-item-container' });\n    const cardThumb = $('<img>', { class: 'card-item-thumb', src: item.thumbnailUrl });\n    const cardUrl = $('<a>', { class: 'card-item-link', href: `https://www.youtube.com/watch?v=${item.videoId}` }).html(item.videoTitle);\n    const cardDescription = $('<p>', { class: 'card-item-description' }).html(item.videoDescription);\n    const cardInfo = $('<p>', { class: 'card-item-info' })\n      .append($('<div>', { class: 'card-item-info-left' })\n        .append($('<i>', { class: 'fa fa-user info-channel' }))\n        .append($('<i>', { class: 'fa fa-calendar info-upload-date' }))\n        .append($('<i>', { class: 'fa fa-eye info-views' }))).append($('<div>', { class: 'card-item-info-right' })\n        .append($('<a>', { class: 'info-video-owner', href: `https://www.youtube.com/channel/${item.ownerId}` }).html(item.owner))\n        .append($('<span>', { class: 'info-upload-date-text' }).html(item.uploaded))\n        .append($('<span>', { class: 'info-views-count' }).html(item.views)));\n    const cardFooter = $('<p>', { class: 'card-item-footer' })\n      .append($('<div>', { class: 'card-item-footer-left' })\n        .append($('<i>', { class: 'fa fa-thumbs-up footer-likes-icon' }))\n        .append($('<span>', { class: 'footer-likes' }).html(item.likes)))\n      .append($('<div>', { class: 'card-item-footer-right' })\n        .append($('<i>', { class: 'fa fa-thumbs-down footer-dislikes-icon' }))\n        .append($('<span>', { class: 'footer-dislikes' }).html(item.dislikes)));\n    cardContainer\n      .append(cardThumb)\n      .append(cardUrl)\n      .append(cardInfo)\n      .append(cardDescription)\n      .append(cardFooter);\n    return cardContainer;\n  }\n\n  render(data) {\n    if (data && data.length > 0) {\n      data.forEach((item) => {\n        this.list.append(appView.createCards(item));\n      });\n    } else {\n      this.createDefaultTemplate();\n    }\n  }\n}\n","import App from './controllers/appController';\nimport Model from './models/appModel';\nimport ViewModel from './viewModels/appViewModel';\nimport View from './views/appView';\n\nwindow.addEventListener('load', () => {\n  const view = new View('body');\n  const model = new Model('AIzaSyAsZu5QIdZpnHNUxrXd0khNyd0HbDPB_BM');\n  const viewModel = new ViewModel(model);\n  const app = new App(model, viewModel, view);\n  app.start();\n});\n"],"sourceRoot":""}